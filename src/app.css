@import url('lib/assets/css/fonts.css');
/* @import url('lib/assets/css/tokens.css'); */

@import 'tailwindcss';

:root {
	/* Texture control */
	--paper-noise: 0.008;
	--paper-wash: 0.002;

	/* Canonical typography */
	--font-plex: 'IBM Plex Sans', system-ui, 'Segoe UI', 'Roboto', sans-serif;
	--font-cairo: 'Cairo', 'Optima', 'Candara', 'Noto Sans', system-ui, sans-serif;
	--font-fira: 'Fira Code', ui-monospace, 'Cascadia Code', 'Consolas', 'Roboto Mono', monospace;

	/* FLUID OPTIONS */
	/* --- 1. CONFIGURATION --- */
	--ratio: 1.125; /* Scale multiplier (Minor Third) */

	/* --- 2. THE ENGINES --- */
	/* Target: 16px at 400px wide -> 20px at 1440px wide 
	/* Formula: Base + ((Max - Min) / (MaxVW - MinVW)) * 100 */

	/* Text Engine: 16px -> 20px (Conservative for readability) */
	--text-base: clamp(1rem, 0.904rem + 0.38vw, 1.25rem);

	/* Spacing Engine: 16px -> 24px (Aggressive for layout breathing) */
	--space-base: clamp(1rem, 0.84rem + 0.77vw, 1.5rem);

	/* --- 3. FLUID FONT SCALE --- */
	--text-flow-0: var(--text-base);
	--text-flow--1: calc(var(--text-flow-0) / var(--ratio));
	--text-flow--2: calc(var(--text-flow--1) / var(--ratio));
	--text-flow-1: calc(var(--text-flow-0) * var(--ratio));
	--text-flow-2: calc(var(--text-flow-1) * var(--ratio));
	--text-flow-3: calc(var(--text-flow-2) * var(--ratio));
	--text-flow-4: calc(var(--text-flow-3) * var(--ratio));
	--text-flow-5: calc(var(--text-flow-4) * var(--ratio));
	--text-flow-6: calc(var(--text-flow-5) * var(--ratio));

	/* --- 4. FLUID SPACING SCALE --- */
	--space-flow--3: calc(var(--space-base) * 0.25);
	--space-flow--2: calc(var(--space-base) * 0.5);
	--space-flow--1: calc(var(--space-base) * 0.75);
	--space-flow-0: var(--space-base);
	--space-flow-1: calc(var(--space-base) * 1.5);
	--space-flow-2: calc(var(--space-base) * 2);
	--space-flow-3: calc(var(--space-base) * 3);
	--space-flow-4: calc(var(--space-base) * 4);
	--space-flow-5: calc(var(--space-base) * 5);
	--space-flow-6: calc(var(--space-base) * 6);
	--space-flow-7: calc(var(--space-base) * 7);
	--space-flow-8: calc(var(--space-base) * 8);
}

/* Tailwind-facing tokens: map from canonical --viz-* variables */
@theme static {
	/* Typography */
	--font-body: var(--font-plex);
	--font-base: var(--font-plex);
	--font-display: var(--font-cairo);
	--font-mono: var(--font-fira);

	/* Text & Space Flow */
	--text-viz-xs: var(--text-flow--2);
	--text-viz-sm: var(--text-flow--1);
	--text-viz-md: var(--text-flow-0);
	--text-viz-lg: var(--text-flow-1);
	--text-viz-xl: var(--text-flow-2);
	--text-viz-2xl: var(--text-flow-3);
	--text-viz-3xl: var(--text-flow-4);
	--text-viz-4xl: var(--text-flow-5);
	--text-viz-5xl: var(--text-flow-6);

	/* Spacing Fluid */
	--spacing-viz-xs: var(--space-flow--2);
	--spacing-viz-sm: var(--space-flow--1);
	--spacing-viz-md: var(--space-flow-0);
	--spacing-viz-lg: var(--space-flow-1);
	--spacing-viz-xl: var(--space-flow-2);
	--spacing-viz-2xl: var(--space-flow-3);
	--spacing-viz-3xl: var(--space-flow-4);
	--spacing-viz-4xl: var(--space-flow-5);
	--spacing-viz-5xl: var(--space-flow-6);
	--spacing-viz-6xl: var(--space-flow-7);
	--spacing-viz-7xl: var(--space-flow-8);

	/* Width */
	--width-prose: 65ch;
	--width-narrow: 28rem;
	--width-content: 80rem;
	--width-wide: 90rem;
	--width-grid-min: 280px;

	/* COLORS */

	/* Brand palette (converted from hex -> OKLCH) */
	--color-brand-yellow: oklch(89% 0.109 82); /* #FFD485 */
	--color-brand-teal: oklch(84.9% 0.086 188); /* #88E0D8 */
	--color-brand-blue: oklch(79.3% 0.099 267); /* #9FBAFC */
	--color-brand-orange: oklch(76% 0.147 46.5); /* #FC915B */
	--color-brand-pink: oklch(71.9% 0.161 354); /* #EF75AB */
	--color-brand-grey: oklch(41% 0 0); /*Grey #4c4c4c */

	/* --- YELLOW (H: 82) --- */
	--color-yellow-50: oklch(98% 0.015 82);
	--color-yellow-100: oklch(96% 0.03 82);
	--color-yellow-200: oklch(92% 0.06 82);
	--color-yellow-300: oklch(84% 0.09 82);
	--color-yellow-400: oklch(76% 0.11 82); /* Standardized Lightness */
	--color-yellow-500: oklch(66% 0.13 82);
	--color-yellow-600: oklch(56% 0.14 82);
	--color-yellow-700: oklch(46% 0.12 82);
	--color-yellow-800: oklch(36% 0.1 82);
	--color-yellow-900: oklch(26% 0.08 82);
	--color-yellow-950: oklch(16% 0.05 82);

	/* --- TEAL (H: 188) --- */
	--color-teal-50: oklch(98% 0.015 188);
	--color-teal-100: oklch(96% 0.03 188);
	--color-teal-200: oklch(92% 0.05 188);
	--color-teal-300: oklch(84% 0.07 188);
	--color-teal-400: oklch(76% 0.086 188);
	--color-teal-500: oklch(66% 0.1 188);
	--color-teal-600: oklch(56% 0.11 188);
	--color-teal-700: oklch(46% 0.1 188);
	--color-teal-800: oklch(36% 0.08 188);
	--color-teal-900: oklch(26% 0.06 188);
	--color-teal-950: oklch(16% 0.04 188);

	/* --- BLUE (H: 267) --- */
	--color-blue-50: oklch(98% 0.02 267);
	--color-blue-100: oklch(96% 0.03 267);
	--color-blue-200: oklch(92% 0.05 267);
	--color-blue-300: oklch(84% 0.08 267);
	--color-blue-400: oklch(76% 0.099 267);
	--color-blue-500: oklch(66% 0.12 267);
	--color-blue-600: oklch(56% 0.14 267);
	--color-blue-700: oklch(46% 0.13 267);
	--color-blue-800: oklch(36% 0.11 267);
	--color-blue-900: oklch(26% 0.09 267);
	--color-blue-950: oklch(16% 0.05 267);

	/* --- ORANGE (H: 46.5) --- */
	--color-orange-50: oklch(98% 0.02 46.5);
	--color-orange-100: oklch(96% 0.03 46.5);
	--color-orange-200: oklch(92% 0.06 46.5);
	--color-orange-300: oklch(84% 0.11 46.5);
	--color-orange-400: oklch(76% 0.147 46.5);
	--color-orange-500: oklch(66% 0.16 46.5);
	--color-orange-600: oklch(56% 0.17 46.5);
	--color-orange-700: oklch(46% 0.16 46.5);
	--color-orange-800: oklch(36% 0.14 46.5);
	--color-orange-900: oklch(26% 0.12 46.5);
	--color-orange-950: oklch(16% 0.06 46.5);

	/* --- PINK (H: 354) --- */
	--color-pink-50: oklch(98% 0.02 354);
	--color-pink-100: oklch(96% 0.03 354);
	--color-pink-200: oklch(92% 0.06 354);
	--color-pink-300: oklch(84% 0.12 354);
	--color-pink-400: oklch(76% 0.161 354);
	--color-pink-500: oklch(66% 0.18 354);
	--color-pink-600: oklch(56% 0.19 354);
	--color-pink-700: oklch(46% 0.17 354);
	--color-pink-800: oklch(36% 0.15 354);
	--color-pink-900: oklch(26% 0.13 354);
	--color-pink-950: oklch(16% 0.06 354);

	/* --- GREY (H: 0 / C: 0) --- */
	--color-grey-50: oklch(98% 0 0);
	--color-grey-100: oklch(96% 0 0);
	--color-grey-200: oklch(92% 0 0);
	--color-grey-300: oklch(84% 0 0);
	--color-grey-400: oklch(76% 0 0);
	--color-grey-500: oklch(66% 0 0);
	--color-grey-600: oklch(56% 0 0);
	--color-grey-700: oklch(46% 0 0);
	--color-grey-800: oklch(36% 0 0);
	--color-grey-900: oklch(26% 0 0);
	--color-grey-950: oklch(16% 0 0);

	/* Named Variants */

	/* MODERN PAPER (Studio White)
     L: 99% - Crisp but removes the 100% "digital glare."
     C: 0.002 - Almost zero color, just enough to feel "expensive."
     H: 240 - A tiny hint of blue/violet (like high-grade bleached paper).
  */
	--color-viz-white: oklch(99% 0.002 240);

	/* MODERN INK (Deep Charcoal)
     L: 18% - Deep enough for "black" text, but soft enough to see font details.
     C: 0.005 - Keeping it nearly neutral.
     H: 240 - Matches the paper temperature for a unified look.
  */
	--color-viz-black: oklch(18% 0.005 240);

	/* Base Colors (Ramp 400 is our "Primary" level) */
	--color-viz-yellow: var(--color-yellow-400);
	--color-viz-teal: var(--color-teal-400);
	--color-viz-blue: var(--color-blue-400);
	--color-viz-orange: var(--color-orange-400);
	--color-viz-pink: var(--color-pink-400);
	--color-viz-grey: var(--color-grey-700);

	/* --- SUBTLE SHADES (Ramp 100) --- */
	/* Use for: Large airy backgrounds, section containers */
	--color-viz-yellow-subtle: var(--color-yellow-100);
	--color-viz-teal-subtle: var(--color-teal-100);
	--color-viz-blue-subtle: var(--color-blue-100);
	--color-viz-orange-subtle: var(--color-orange-100);
	--color-viz-pink-subtle: var(--color-pink-100);
	--color-viz-grey-subtle: var(--color-grey-100);

	/* --- LIGHT SHADES (Ramp 200) --- */
	/* Use for: Hover states on subtle backgrounds */
	--color-viz-yellow-light: var(--color-yellow-200);
	--color-viz-teal-light: var(--color-teal-200);
	--color-viz-blue-light: var(--color-blue-200);
	--color-viz-orange-light: var(--color-orange-200);
	--color-viz-pink-light: var(--color-pink-200);
	--color-viz-grey-light: var(--color-grey-200);

	/* --- MUTED SHADES (Ramp 200/300) --- */
	/* Use for: Borders, disabled states, or "quiet" secondary buttons */
	--color-viz-yellow-muted: var(--color-yellow-300);
	--color-viz-teal-muted: var(--color-teal-300);
	--color-viz-blue-muted: var(--color-blue-300);
	--color-viz-orange-muted: var(--color-orange-300);
	--color-viz-pink-muted: var(--color-pink-300);
	--color-viz-grey-muted: var(--color-grey-300);

	/* --- SOLID SHADES (Ramp 700) --- */
	/* Use for: High-contrast icons & Fills */
	--color-viz-yellow-solid: var(--color-yellow-700);
	--color-viz-teal-solid: var(--color-teal-700);
	--color-viz-blue-solid: var(--color-blue-700);
	--color-viz-orange-solid: var(--color-orange-700);
	--color-viz-pink-solid: var(--color-pink-700);
	--color-viz-grey-solid: var(--color-grey-700);

	/* --- DARK SHADES (Ramp 800) --- */
	/* Use for: Text  */
	--color-viz-yellow-dark: var(--color-yellow-800);
	--color-viz-teal-dark: var(--color-teal-800);
	--color-viz-blue-dark: var(--color-blue-800);
	--color-viz-orange-dark: var(--color-orange-800);
	--color-viz-pink-dark: var(--color-pink-800);
	--color-viz-grey-dark: var(--color-grey-800);

	/* Semantic colors */
	--color-bg: var(--color-viz-white);
	--color-fg: var(--color-viz-black);
	--color-muted: var(--color-viz-grey-muted);
	--color-surface: var(--color-viz-white);
	--color-border: var(--color-viz-grey-muted);
	--color-link: var(--color-viz-blue-dark);
	--color-accent: var(--color-viz-pink);
}

@layer base {
	html {
		scroll-behavior: smooth;
		overflow-x: hidden;

		/* For OverScroll */
		background-color: var(--color-viz-white);
	}

	body {
		/* Better font rendering */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		/* Modern standard for handling ligatures (important for Fira Code) */
		text-rendering: optimizeLegibility;
		/* Optimize IBM Plex for long-form reading */
		font-family: var(--font-plex);
		font-variation-settings: 'slnt' 0;
		font-variant-ligatures: common-ligatures;
		/* Standardizing line-height for better readability on 'Paper' styles */
		line-height: 1.6;
		/* Reset and Layout */
		margin: 0;
		min-height: 100vh;
		/* Avoid Horizontal Scrolling */
		overflow-x: hidden;

		/* Typography & Color */
		background-color: var(--color-viz-white);
		color: var(--color-viz-black);
		background-image:
		/* ultra-fine density noise */
			repeating-linear-gradient(
				0deg,
				rgba(0, 0, 0, var(--paper-noise)),
				rgba(0, 0, 0, var(--paper-noise)) 1px,
				transparent 2px
			),
			/* paper wash */
				linear-gradient(rgba(0, 0, 0, var(--paper-wash)), rgba(0, 0, 0, var(--paper-wash)));
		background-blend-mode: multiply;
	}

	p {
		font-weight: 400;
	}

	p {
		line-height: 1.5;
	}

	h1 {
		font-size: 2rem;
	}

	h2 {
		font-size: 1.5rem;
	}

	pre {
		font-size: 16px;
		font-family: var(--font-mono);
		background-color: rgba(255, 255, 255, 0.45);
		border-radius: 3px;
		box-shadow: 2px 2px 6px rgb(255 255 255 / 25%);
		padding: 0.5em;
		overflow-x: auto;
		color: var(--color-text);
	}

	.text-column {
		display: flex;
		max-width: 48rem;
		flex: 0.6;
		flex-direction: column;
		justify-content: center;
		margin: 0 auto;
	}

	input,
	button {
		font-size: inherit;
		font-family: inherit;
	}

	button:focus:not(:focus-visible) {
		outline: none;
	}

	@media (min-width: 720px) {
		h1 {
			font-size: 2.4rem;
		}
	}

	.visually-hidden {
		border: 0;
		clip: rect(0 0 0 0);
		height: auto;
		margin: 0;
		overflow: hidden;
		padding: 0;
		position: absolute;
		width: 1px;
		white-space: nowrap;
	}

	/* Utility class for full-width breakout sections */
	.full-bleed {
		width: 100vw;
		max-width: 100vw;
		margin-left: calc(50% - 50vw);
		margin-right: calc(50% - 50vw);
		position: relative;
		overflow-x: hidden;
	}

	.font-display {
		font-family: var(--font-display);
	}

	.font-body {
		font-family: var(--font-body);
	}

	/* Common Text Styles */
	.content-text {
		@apply max-w-[55ch] text-[18px] md:text-[22px];
		line-height: 1.5;
	}

	.content-heading {
		@apply text-[28px] leading-normal font-bold;
	}

	.content-subheading {
		@apply text-[28px] leading-[1.05];
		text-wrap: balance;
	}

	.content-container {
		@apply mx-auto max-w-3xl px-4;
	}

	.content-notice {
		@apply mb-8 rounded-lg border border-gray-200 bg-gray-100 p-6 md:p-8;
	}
}
